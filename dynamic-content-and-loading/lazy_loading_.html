<!DOCTYPE html>
<html lang="en" class="color-mode-auto">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Practice Test & Automation - Lazy Loading</title>
    <link href="https://unpkg.com/@primer/css@^20.2.4/dist/primer.css" rel="stylesheet" />
    <script
        src="https://unpkg.com/@primer/view-components@0.0.98/app/assets/javascripts/primer_view_components.js"></script>
    <style>
        body {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        main {
            flex: 1 0 auto;
        }

        footer {
            flex-shrink: 0;
        }

        .lazy-image {
            width: 300px;
            height: 200px;
            background-color: #f0f0f0;
            margin-bottom: 10px;
        }

        #image-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            justify-content: center;
        }

        .lazy-image {
            width: 100%;
            height: 200px;
            background-color: #f0f0f0;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        .lazy-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
        }

        .lazy-image.loaded img {
            opacity: 1;
        }
    </style>
</head>

<body>
    <!-- Header -->
    <header class="color-bg-subtle border-bottom color-border-muted">
        <div class="container-xl p-responsive py-1">
            <h1 class="f2 color-fg-default">Practice Test & Automation</h1>
            <small>
                <p class="color-fg-muted" style="margin: 0px 0;">Improve your test and automation skills with our
                    examples.
                </p>
            </small>
        </div>
    </header>
    <!-- Breadcrumbs -->
    <nav aria-label="Breadcrumb" class="color-bg-subtle border-bottom color-border-muted">
        <div class="container-xl p-responsive py-2">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="../index.html" class="color-fg-accent">Home</a></li>
                <li class="breadcrumb-item" aria-current="page">Lazy Loading</li>
            </ol>
        </div>
    </nav>

    <!-- Main Content -->
    <main>
        <div class="container-xl p-responsive py-6">
            <div class="clearfix">
                <!-- Left Card (2/3 width) -->
                <div class="col-12 col-md-8 float-left pr-md-3 mb-3 mb-md-0">
                    <div class="Box color-shadow-medium">
                        <div class="Box-header">
                            <h2 class="Box-title">Understanding Lazy Loading</h2>
                        </div>
                        <div class="Box-body">
                            <p class="color-fg-muted mb-3">
                                Lazy loading is an optimization technique that improves web page performance by loading
                                content
                                only when it's needed. This approach can significantly reduce initial page load time,
                                save
                                bandwidth,
                                and improve the overall user experience, especially on mobile devices or slow
                                connections.
                            </p>
                            <h3 class="f4 mb-2">Key Features of Lazy Loading:</h3>
                            <ul class="color-fg-muted mb-4">
                                <li class="ml-4">Deferred loading: Images are loaded only when they're about to enter
                                    the viewport.</li>
                                <li class="ml-4">Improved performance: Reduces initial page load time and bandwidth
                                    usage.</li>
                                <li class="ml-4">Better user experience: Faster initial page render and smoother
                                    scrolling.</li>
                                <li class="ml-4">Infinite scroll simulation: Loads more images as the user scrolls near
                                    the bottom of the page.</li>
                                <li class="ml-4">Customizable loading delay: Simulates various network conditions for
                                    testing purposes.</li>
                            </ul>
                            <h3 class="f4 mb-2">How It Works:</h3>
                            <ol class="color-fg-muted mb-4">
                                <li class="ml-4">Images are initially replaced with placeholder elements.</li>
                                <li class="ml-4">As you scroll, the script checks which images are about to enter the
                                    viewport.</li>
                                <li class="ml-4">Images within or near the viewport are loaded with a randomized delay
                                    (1-3 seconds).</li>
                                <li class="ml-4">When you reach near the bottom of the page, more image placeholders are
                                    added.</li>
                                <li class="ml-4">This process continues until all 50 images are loaded or until you stop
                                    scrolling.</li>
                            </ol>
                            <hr>
                            <h3 class="f4 mb-2">Test Me Here:</h3>
                            <p>Scroll down to see images load as they enter the viewport:</p>
                            <div id="image-container">
                                <!-- Images will be dynamically added here -->
                            </div>
                            <div id="loading-indicator" style="display: none; text-align: center; padding: 20px;">
                                Loading more images... </div>
                        </div>
                    </div>
                </div>

                <!-- Right Card (1/3 width) -->
                <div class="col-12 col-md-4 float-left">
                    <div class="Box color-shadow-medium">
                        <div class="Box-header">
                            <h2 class="Box-title">Test Scenarios & Test Cases</h2>
                        </div>
                        <div class="Box-body">
                            <ul class="list-style-none" id="all-scenarios">
                                <li class="mb-3">
                                    <div class="d-flex flex-column">
                                        <a href="#" class="h4 Link--primary no-underline">Scenario 1: Initial Load and
                                            Deferred Loading</a>
                                        <ul class="list-style-none pl-3 color-fg-muted">
                                            <li class="mb-1">
                                                <svg class="octicon octicon-check mr-1" viewBox="0 0 16 16"
                                                    version="1.1" width="16" height="16" aria-hidden="true">
                                                    <path fill-rule="evenodd"
                                                        d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z">
                                                    </path>
                                                </svg>
                                                Verify only placeholders are visible on initial page load
                                            </li>
                                            <li class="mb-1">
                                                <svg class="octicon octicon-check mr-1" viewBox="0 0 16 16"
                                                    version="1.1" width="16" height="16" aria-hidden="true">
                                                    <path fill-rule="evenodd"
                                                        d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z">
                                                    </path>
                                                </svg>
                                                Check that images load only when scrolled into view
                                            </li>
                                        </ul>
                                    </div>
                                </li>
                                <li class="mb-3">
                                    <div class="d-flex flex-column">
                                        <a href="#" class="h4 Link--primary no-underline">Scenario 2: Scrolling and
                                            Loading Behavior</a>
                                        <ul class="list-style-none pl-3 color-fg-muted">
                                            <li class="mb-1">
                                                <svg class="octicon octicon-check mr-1" viewBox="0 0 16 16"
                                                    version="1.1" width="16" height="16" aria-hidden="true">
                                                    <path fill-rule="evenodd"
                                                        d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z">
                                                    </path>
                                                </svg>
                                                Verify smooth transition from placeholder to loaded image
                                            </li>
                                            <li class="mb-1">
                                                <svg class="octicon octicon-check mr-1" viewBox="0 0 16 16"
                                                    version="1.1" width="16" height="16" aria-hidden="true">
                                                    <path fill-rule="evenodd"
                                                        d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z">
                                                    </path>
                                                </svg>
                                                Test loading of new image batches when scrolling near the bottom
                                            </li>
                                        </ul>
                                    </div>
                                </li>
                                <li class="mb-3">
                                    <div class="d-flex flex-column">
                                        <a href="#" class="h4 Link--primary no-underline">Scenario 3: Error Handling and
                                            Edge Cases</a>
                                        <ul class="list-style-none pl-3 color-fg-muted">
                                            <li class="mb-1">
                                                <svg class="octicon octicon-check mr-1" viewBox="0 0 16 16"
                                                    version="1.1" width="16" height="16" aria-hidden="true">
                                                    <path fill-rule="evenodd"
                                                        d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z">
                                                    </path>
                                                </svg>
                                                Verify error handling for failed image loads
                                            </li>
                                            <li class="mb-1">
                                                <svg class="octicon octicon-check mr-1" viewBox="0 0 16 16"
                                                    version="1.1" width="16" height="16" aria-hidden="true">
                                                    <path fill-rule="evenodd"
                                                        d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z">
                                                    </path>
                                                </svg>
                                                Test behavior when rapidly scrolling up and down
                                            </li>
                                        </ul>
                                    </div>
                                </li>
                                <li class="mb-3">
                                    <div class="d-flex flex-column">
                                        <a href="#" class="h4 Link--primary no-underline">Scenario 4: Responsiveness and
                                            Layout</a>
                                        <ul class="list-style-none pl-3 color-fg-muted">
                                            <li class="mb-1">
                                                <svg class="octicon octicon-check mr-1" viewBox="0 0 16 16"
                                                    version="1.1" width="16" height="16" aria-hidden="true">
                                                    <path fill-rule="evenodd"
                                                        d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z">
                                                    </path>
                                                </svg>
                                                Check image layout on different screen sizes
                                            </li>
                                            <li class="mb-1">
                                                <svg class="octicon octicon-check mr-1" viewBox="0 0 16 16"
                                                    version="1.1" width="16" height="16" aria-hidden="true">
                                                    <path fill-rule="evenodd"
                                                        d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z">
                                                    </path>
                                                </svg>
                                                Verify lazy loading behavior on mobile devices
                                            </li>
                                        </ul>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="color-bg-subtle border-top color-border-muted">
        <div class="container-xl p-responsive py-3 text-center">
            <span class="color-fg-muted"><small>
                    <style>
                        .heart {
                            color: #e25555;
                        }
                    </style>
                    ℳ𝒶𝒹ℯ 𝓌𝒾𝓉𝒽 <span class="heart">♥</span> 𝒷𝓎
                </small><small><a href="https://www.codesofmine.com" title="codesofmine">𝒸ℴ𝒹ℯ𝓈ℴ𝒻𝓂𝒾𝓃ℯ</a> - &copy;
                    2025 Practice Test & Automation</small></span>
        </div>
    </footer>

    <script>
        const imageContainer = document.getElementById('image-container');
        const loadingIndicator = document.getElementById('loading-indicator');
        let currentIndex = 0;
        const batchSize = 5;
        const totalImages = 50;

        function createImagePlaceholder(index) {
            const placeholder = document.createElement('div');
            placeholder.className = 'lazy-image';
            placeholder.dataset.src = `https://picsum.photos/300/200?random=${index}`;
            placeholder.innerHTML = `<div>Loading image ${index}...</div>`;
            return placeholder;
        }

        function loadImage(placeholder) {
            const img = new Image();
            img.src = placeholder.dataset.src;
            img.onload = () => {
                setTimeout(() => {
                    placeholder.innerHTML = '';
                    placeholder.appendChild(img);
                    placeholder.classList.add('loaded');
                }, Math.random() * 2000 + 1000);
            };
            img.onerror = () => {
                placeholder.innerHTML = 'Error loading image';
            };
        }

        function lazyLoad() {
            const placeholders = document.querySelectorAll('.lazy-image:not(.loaded)');
            placeholders.forEach(placeholder => {
                if (isInViewport(placeholder)) {
                    loadImage(placeholder);
                }
            });
        }

        function isInViewport(element) {
            const rect = element.getBoundingClientRect();
            return (
                rect.top <= (window.innerHeight || document.documentElement.clientHeight) &&
                rect.bottom >= 0 &&
                rect.left <= (window.innerWidth || document.documentElement.clientWidth) &&
                rect.right >= 0
            );
        }

        function loadMoreImages() {
            if (currentIndex >= totalImages) {
                loadingIndicator.style.display = 'none';
                return;
            }

            loadingIndicator.style.display = 'block';

            setTimeout(() => { // Yükleme gecikmesi simülasyonu
                for (let i = 0; i < batchSize && currentIndex < totalImages; i++) {
                    imageContainer.appendChild(createImagePlaceholder(currentIndex));
                    currentIndex++;
                }
                lazyLoad();
                loadingIndicator.style.display = 'none';
            }, 1000); // 1 saniye gecikme
        }

        function isNearBottom() {
            return window.innerHeight + window.scrollY >= document.body.offsetHeight - 500;
        }

        // Scroll event listener
        window.addEventListener('scroll', () => {
            lazyLoad();
            if (isNearBottom()) {
                loadMoreImages();
            }
        });

        window.addEventListener('resize', lazyLoad);

        // Initial load
        loadMoreImages();

        // View more scenarios functionality
        document.getElementById('view-more-scenarios').addEventListener('click', function (e) {
            e.preventDefault();
            const additionalScenarios = document.querySelectorAll('.additional-scenario');
            additionalScenarios.forEach(scenario => {
                scenario.style.display = scenario.style.display === 'none' ? 'block' : 'none';
            });
            this.textContent = this.textContent.includes('View All') ? '← Hide Additional Scenarios' : 'View All Test Scenarios →';
        });
    </script>
</body>

</html>