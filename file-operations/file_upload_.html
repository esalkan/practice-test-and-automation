<!DOCTYPE html>
<html lang="en" class="color-mode-auto">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Practice Test & Automation - File Upload</title>
    <link href="https://unpkg.com/@primer/css@^20.2.4/dist/primer.css" rel="stylesheet" />
    <script
        src="https://unpkg.com/@primer/view-components@0.0.98/app/assets/javascripts/primer_view_components.js"></script>
    <style>
        body {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        main {
            flex: 1 0 auto;
        }

        footer {
            flex-shrink: 0;
        }
    </style>
</head>

<body>
    <!-- Header -->
    <header class="color-bg-subtle border-bottom color-border-muted">
        <div class="container-xl p-responsive py-1">
            <h1 class="f2 color-fg-default">Practice Test & Automation</h1>
            <small>
                <p class="color-fg-muted" style="margin: 0px 0;">Improve your test and automation skills with our
                    examples.</p>
            </small>
        </div>
    </header>
    <!-- Breadcrumbs -->
    <nav aria-label="Breadcrumb" class="color-bg-subtle border-bottom color-border-muted">
        <div class="container-xl p-responsive py-2">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="../index.html" class="color-fg-accent">Home</a></li>
                <li class="breadcrumb-item" aria-current="page">File Upload</li>
            </ol>
        </div>
    </nav>

    <!-- Main Content -->
    <main>
        <div class="container-xl p-responsive py-6">
            <div class="clearfix">
                <!-- Left Card (2/3 width) -->
                <div class="col-12 col-md-8 float-left pr-md-3 mb-3 mb-md-0">
                    <div class="Box color-shadow-medium">
                        <div class="Box-header">
                            <h2 class="Box-title">Understanding File Upload</h2>
                        </div>
                        <div class="Box-body">
                            <p class="color-fg-muted mb-3" data-t="page-description">
                                File upload is a crucial feature in many web applications, allowing users to share
                                documents, images, and other file types. Understanding how to implement and test file
                                uploads is essential for ensuring a smooth user experience and maintaining data
                                integrity.
                            </p>
                            <h3 class="f4 mb-2">Key Features of File Upload:</h3>
                            <ul class="color-fg-muted mb-4">
                                <li class="ml-4">Support for various file types (e.g., images, documents, archives)</li>
                                <li class="ml-4">File size limitations and validation</li>
                                <li class="ml-4">Multiple file upload capability</li>
                                <li class="ml-4">Progress indicators for large file uploads</li>
                                <li class="ml-4">Error handling and user feedback</li>
                            </ul>
                            <h3 class="f4 mb-2">How It Works:</h3>
                            <ol class="color-fg-muted mb-4">
                                <li class="ml-4">User selects a file through a file input element or drag-and-drop
                                    interface.</li>
                                <li class="ml-4">Client-side validation checks file type and size (if implemented).</li>
                                <li class="ml-4">File is sent to the server using an HTTP POST request, often with
                                    multipart/form-data encoding.</li>
                                <li class="ml-4">Server processes the uploaded file, performs additional validation, and
                                    stores it.</li>
                                <li class="ml-4">Server sends a response indicating success or failure of the upload.
                                </li>
                            </ol>
                            <h3 class="f4 mb-2">Common Challenges:</h3>
                            <ul class="color-fg-muted mb-4">
                                <li class="ml-4">Handling large file uploads efficiently</li>
                                <li class="ml-4">Implementing secure file storage and access</li>
                                <li class="ml-4">Managing concurrent uploads from multiple users</li>
                                <li class="ml-4">Ensuring compatibility across different browsers and devices</li>
                            </ul>
                            <hr>
                            <h3 class="f4 mb-2">Test Me Here:</h3>
                            <div id="file-upload-demo" class="border rounded-2 p-3">
                                <form id="upload-form" enctype="multipart/form-data" action="upload.php" method="post">
                                    <div class="form-group">
                                        <label for="file-input">Choose a file to upload:</label>
                                        <input type="file" id="file-input" name="file" class="form-control-file"
                                            accept=".txt,.pdf,.doc,.docx,image/*">
                                    </div>
                                    <div class="form-group mt-2">
                                        <label for="file-type-select">File Type Filter:</label>
                                        <select id="file-type-select" class="form-select">
                                            <option value="all">All Files</option>
                                            <option value="image">Images Only</option>
                                            <option value="document">Documents Only</option>
                                        </select>
                                    </div>
                                    <button type="submit" class="btn btn-primary mt-2">Upload File</button>
                                </form>
                                <div id="upload-status" class="mt-3"></div>
                                <div id="upload-progress" class="progress mt-3" style="display: none;">
                                    <div class="progress-bar" role="progressbar" style="width: 0%;" aria-valuenow="0"
                                        aria-valuemin="0" aria-valuemax="100">0%</div>
                                </div>
                                <div id="uploaded-files" class="mt-3"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right Card (1/3 width) -->
                <div class="col-12 col-md-4 float-left">
                    <div class="Box color-shadow-medium">
                        <div class="Box-header">
                            <h2 class="Box-title">Test Scenarios & Test Cases</h2>
                        </div>
                        <div class="Box-body">
                            <ul class="list-style-none" id="all-scenarios">
                                <li class="mb-3">
                                    <div class="d-flex flex-column">
                                        <a href="#" class="h4 Link--primary no-underline">Scenario 1: Basic File
                                            Upload</a>
                                        <ul class="list-style-none pl-3 color-fg-muted">
                                            <li class="mb-1">
                                                <svg class="octicon octicon-check mr-1" viewBox="0 0 16 16"
                                                    version="1.1" width="16" height="16" aria-hidden="true">
                                                    <path fill-rule="evenodd"
                                                        d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z">
                                                    </path>
                                                </svg>
                                                Verify successful upload of a valid file
                                            </li>
                                            <li class="mb-1">
                                                <svg class="octicon octicon-check mr-1" viewBox="0 0 16 16"
                                                    version="1.1" width="16" height="16" aria-hidden="true">
                                                    <path fill-rule="evenodd"
                                                        d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z">
                                                    </path>
                                                </svg>
                                                Check for appropriate success message
                                            </li>
                                        </ul>
                                    </div>
                                </li>
                                <li class="mb-3">
                                    <div class="d-flex flex-column">
                                        <a href="#" class="h4 Link--primary no-underline">Scenario 2: File Type
                                            Validation</a>
                                        <ul class="list-style-none pl-3 color-fg-muted">
                                            <li class="mb-1">
                                                <svg class="octicon octicon-check mr-1" viewBox="0 0 16 16"
                                                    version="1.1" width="16" height="16" aria-hidden="true">
                                                    <path fill-rule="evenodd"
                                                        d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z">
                                                    </path>
                                                </svg>
                                                Test upload of allowed file types
                                            </li>
                                            <li class="mb-1">
                                                <svg class="octicon octicon-check mr-1" viewBox="0 0 16 16"
                                                    version="1.1" width="16" height="16" aria-hidden="true">
                                                    <path fill-rule="evenodd"
                                                        d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z">
                                                    </path>
                                                </svg>
                                                Verify rejection of disallowed file types
                                            </li>
                                        </ul>
                                    </div>
                                </li>
                                <li class="mb-3">
                                    <div class="d-flex flex-column">
                                        <a href="#" class="h4 Link--primary no-underline">Scenario 3: File Size
                                            Limits</a>
                                        <ul class="list-style-none pl-3 color-fg-muted">
                                            <li class="mb-1">
                                                <svg class="octicon octicon-check mr-1" viewBox="0 0 16 16"
                                                    version="1.1" width="16" height="16" aria-hidden="true">
                                                    <path fill-rule="evenodd"
                                                        d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z">
                                                    </path>
                                                </svg>
                                                Upload file within size limit
                                            </li>
                                            <li class="mb-1">
                                                <svg class="octicon octicon-check mr-1" viewBox="0 0 16 16"
                                                    version="1.1" width="16" height="16" aria-hidden="true">
                                                    <path fill-rule="evenodd"
                                                        d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z">
                                                    </path>
                                                </svg>
                                                Test rejection of files exceeding size limit
                                            </li>
                                        </ul>
                                    </div>
                                </li>
                                <li class="mb-3 additional-scenario" style="display: none;">
                                    <div class="d-flex flex-column">
                                        <a href="#" class="h4 Link--primary no-underline">Scenario
                                            4: Upload Progress Indication</a>
                                        <ul class="list-style-none pl-3 color-fg-muted">
                                            <li class="mb-1">
                                                <svg class="octicon octicon-check mr-1" viewBox="0 0 16 16"
                                                    version="1.1" width="16" height="16" aria-hidden="true">
                                                    <path fill-rule="evenodd"
                                                        d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z">
                                                    </path>
                                                </svg>
                                                Test visibility and accuracy of progress indicator
                                            </li>
                                            <li class="mb-1">
                                                <svg class="octicon octicon-check mr-1" viewBox="0 0 16 16"
                                                    version="1.1" width="16" height="16" aria-hidden="true">
                                                    <path fill-rule="evenodd"
                                                        d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z">
                                                    </path>
                                                </svg>
                                                Verify behavior on upload interruption
                                            </li>
                                        </ul>
                                    </div>
                                </li>
                            </ul>
                            <a href="#" id="view-more-scenarios" class="btn btn-outline btn-block">View All Test
                                Scenarios →</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="color-bg-subtle border-top color-border-muted">
        <div class="container-xl p-responsive py-3 text-center">
            <span class="color-fg-muted"><small>
                    <style>
                        .heart {
                            color: #e25555;
                        }
                    </style>
                    ℳ𝒶𝒹ℯ 𝓌𝒾𝓉𝒽 <span class="heart">♥</span> 𝒷𝓎
                </small><small><a href="https://www.codesofmine.com" title="codesofmine">𝒸ℴ𝒹ℯ𝓈ℴ𝒻𝓂𝒾𝓃ℯ</a> - &copy;
                    2025 Practice Test & Automation</small></span>
        </div>
    </footer>

    <script>
        // View More Scenarios functionality
        document.getElementById('view-more-scenarios').addEventListener('click', function (e) {
            e.preventDefault();
            const additionalScenarios = document.querySelectorAll('.additional-scenario');
            additionalScenarios.forEach(scenario => {
                scenario.style.display = scenario.style.display === 'none' ? 'block' : 'none';
            });
            this.textContent = this.textContent.includes('View All') ? '← Hide Additional Scenarios' : 'View All Test Scenarios →';
        });

        // File Upload functionality
        document.getElementById('upload-form').addEventListener('submit', function (e) {
            e.preventDefault();
            const fileInput = document.getElementById('file-input');
            const file = fileInput.files[0];
            const statusDiv = document.getElementById('upload-status');
            const progressBar = document.getElementById('upload-progress');
            const progressBarInner = progressBar.querySelector('.progress-bar');

            if (file) {
                // File type validation
                const fileType = document.getElementById('file-type-select').value;
                if (fileType === 'image' && !file.type.startsWith('image/')) {
                    statusDiv.innerHTML = '<div class="flash flash-error">Please select an image file.</div>';
                    return;
                }
                if (fileType === 'document' && !['application/pdf', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'].includes(file.type)) {
                    statusDiv.innerHTML = '<div class="flash flash-error">Please select a document file (PDF, DOC, or DOCX).</div>';
                    return;
                }

                // Create FormData object
                const formData = new FormData(this);

                // Use XMLHttpRequest for real progress tracking
                const xhr = new XMLHttpRequest();
                xhr.open('POST', 'upload.php', true);

                xhr.upload.onprogress = function (e) {
                    if (e.lengthComputable) {
                        const percentComplete = (e.loaded / e.total) * 100;
                        progressBar.style.display = 'flex';
                        progressBarInner.style.width = percentComplete + '%';
                        progressBarInner.setAttribute('aria-valuenow', percentComplete);
                        progressBarInner.textContent = percentComplete.toFixed(0) + '%';
                    }
                };

                xhr.onload = function () {
                    if (xhr.status === 200) {
                        const response = JSON.parse(xhr.responseText);
                        if (response.success) {
                            statusDiv.innerHTML = '<div class="flash flash-success">File "' + file.name + '" uploaded successfully!</div>';
                            fileInput.value = '';
                            displayUploadedFiles();
                        } else {
                            statusDiv.innerHTML = '<div class="flash flash-error">' + response.message + '</div>';
                        }
                    } else {
                        statusDiv.innerHTML = '<div class="flash flash-error">An error occurred during upload.</div>';
                    }
                };

                xhr.onerror = function () {
                    console.error('Error:', xhr.status);
                    statusDiv.innerHTML = '<div class="flash flash-error">An error occurred during upload.</div>';
                };

                xhr.send(formData);
            } else {
                statusDiv.innerHTML = '<div class="flash flash-error">Please select a file to upload.</div>';
            }
        });
        // Function to display uploaded files
        function displayUploadedFiles() {
            fetch('list_files.php')
                .then(response => response.json())
                .then(files => {
                    const uploadedFilesDiv = document.getElementById('uploaded-files');
                    uploadedFilesDiv.innerHTML = '<h3>Uploaded Files:</h3>';
                    const fileList = document.createElement('ul');

                    files.forEach(fileName => {
                        const listItem = document.createElement('li');
                        listItem.textContent = fileName;
                        fileList.appendChild(listItem);
                    });

                    uploadedFilesDiv.appendChild(fileList);
                })
                .catch(error => {
                    console.error('Error fetching file list:', error);
                });
        }

        // Call the function to display uploaded files when the page loads
        window.onload = displayUploadedFiles;

        // File type filter functionality
        document.getElementById('file-type-select').addEventListener('change', function () {
            const fileInput = document.getElementById('file-input');
            switch (this.value) {
                case 'image':
                    fileInput.accept = 'image/*';
                    break;
                case 'document':
                    fileInput.accept = '.pdf,.doc,.docx';
                    break;
                default:
                    fileInput.accept = '.txt,.pdf,.doc,.docx,image/*';
            }
        });
    </script>
</body>

</html>